name: Build cht-core and test against node versions

on: push

jobs:
  node8:
    name: run on node 8
    runs-on: macos-latest

    steps:
    - uses: actions/checkout@v2
    - name: Use Node.js 8.x
      uses: actions/setup-node@v1
      with:
        node-version: 8.x
    - name: npm CI
      run: npm ci
    - name: Run the api
      run: node api/src/services/generate-xform.js

  node10:
    name: run on node 10
    runs-on: macos-latest

    steps:
    - uses: actions/checkout@v2
    - name: Use Node.js 10.x
      uses: actions/setup-node@v1
      with:
        node-version: 10.x
    - name: npm CI
      run: npm ci
    - name: Run the api
      run: node api/src/services/generate-xform.js
  node12:
    name: run on node 12
    runs-on: macos-latest

    steps:
    - uses: actions/checkout@v2
    - name: Use Node.js 12.x
      uses: actions/setup-node@v1
      with:
        node-version: 12.x
    - name: npm CI
      run: npm ci
    - name: Run the api
      run: node api/src/services/generate-xform.js

  node14:
    name: run on node 14
    runs-on: macos-latest

    steps:
    - uses: actions/checkout@v2
    - name: Use Node.js 14.x
      uses: actions/setup-node@v1
      with:
        node-version: 14.x
    - name: npm CI
      run: npm ci
    - name: Run the api
      run: node api/src/services/generate-xform.js
  node16:
    name: run on node 16
    runs-on: macos-latest

    steps:
    - uses: actions/checkout@v2
    - name: Use Node.js 16.x
      uses: actions/setup-node@v1
      with:
        node-version: 16.x
    - name: npm CI
      run: npm ci
    - name: Run the api
      run: node api/src/services/generate-xform.js




